CREATE DATABASE CORCOVADOPI

USE CORCOVADOPI

CREATE TABLE PRODUTO (
	ID INT NOT NULL IDENTITY PRIMARY KEY ,
	NOME VARCHAR(250) NOT NULL,
	DESCRICAO VARCHAR(250) NOT NULL,
	FABRICANTE VARCHAR(250) NOT NULL,
	CODIGO INT NOT NULL,
	ESTOQUE INT NOT NULL,
	RESERVADO INT NOT NULL,
	FOREIGN KEY (CATEGORIA_ID) REFERENCES CATEGORIA(ID)
)

CREATE TABLE PRECO (
	ID INT NOT NULL IDENTITY PRIMARY KEY,
	FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO(ID),
	PRECO INT NOT NULL,
	FOREIGN KEY (NIVEL_ID) REFERENCES PRECO(ID)
)

CREATE TABLE CATEGORIA (
	ID INT NOT NULL IDENTITY PRIMARY KEY ,
	NOME VARCHAR(250) NOT NULL,
	DESCRICAO VARCHAR(250) NOT NULL,
	FOREIGN KEY (DEPARTAMENTO_ID) REFERENCES DEPARTAMENTO(ID)
)

CREATE TABLE DEPARTAMENTO (
	ID INT NOT NULL IDENTITY PRIMARY KEY ,
	NOME VARCHAR(250) NOT NULL,
	DESCRICAO VARCHAR(250) NOT NULL
)

CREATE TABLE VENDA (
	ID INT NOT NULL IDENTITY PRIMARY KEY ,
	FOREIGN KEY (PESSOA_ID) REFERENCES PESSOA(ID)
	FOREIGN KEY (ENDERECO_ID) REFERENCES ENDERECO(ID)
	FOREIGN KEY (DESCONTO_ID) REFERENCES DESCONTO(ID)
	TOTAL INT NOT NULL,
	-- PAGAMENTO INT NOT NULL,
	-- COMPROVANTE INT NOT NULL,
	PRAZO_ENTREGA DATETIME NOT NULL,
	CODIGO_RASTREAMENTO INT NOT NULL
)

CREATE TABLE PRODUTO_VENDIDO(
	ID INT NOT NULL IDENTITY PRIMARY KEY,
	FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO(ID),
	FOREIGN KEY (VENDA_ID) REFERENCES VENDA(ID),
	QUANTIDADE INT NOT NULL,
	PRECO_TOTAL INT NOT NULL
)

CREATE TABLE DESCONTO(
	ID INT NOT NULL IDENTITY PRIMARY KEY,
	DESCONTO INT NOT NULL,
	PERCENTUAL INT NOT NULL,
	COD_CUPOM INT NOT NULL
)

CREATE TABLE PESSOA (
	ID INT NOT NULL IDENTITY PRIMARY KEY,
	NOME VARCHAR(250) NOT NULL,
	DOCUMENTO VARCHAR(250) NOT NULL,
	LOGIN VARCHAR(250) NOT NULL,
	SENHA INT NOT NULL,
	FOREIGN KEY (NIVEL_ID) REFERENCES NIVEL(ID),
	FOREIGN KEY (CARGO_ID) REFERENCES CARGO(ID)
)

CREATE TABLE ENDERECO (
	ID INT NOT NULL IDENTITY PRIMARY KEY,
	FOREIGN KEY (PESSOA_ID) REFERENCES PESSOA(ID)
	RUA VARCHAR(250) NOT NULL,
	NUMERO INT NOT NULL,
	BAIRRO VARCHAR(250) NOT NULL,
	CIDADE VARCHAR(250) NOT NULL,
	ESTADO VARCHAR(250) NOT NULL,
	CEP INT NOT NULL,
	COMPLEMENTO VARCHAR(250) NOT NULL,
	PRINCIPAL VARCHAR(250) NOT NULL
)

CREATE TABLE SAC (
	ID INT NOT NULL IDENTITY PRIMARY KEY,
	FOREIGN KEY (PESSOA_ID) REFERENCES PESSOA(ID),
	CONTATO VARCHAR(250) NOT NULL,
	MENSAGEM VARCHAR(250) NOT NULL,
	STATUS_MENSAGEM(250) NOT NULL
)

CREATE TABLE RESPOSTA (
	ID INT NOT NULL IDENTITY PRIMARY KEY,
	FOREIGN KEY (SAC_ID) REFERENCES SAC(ID),
	MENSAGEM VARCHAR(250) NOT NULL,
	FOREIGN KEY (PESSOA_ID) REFERENCES PESSOA(ID)
)

CREATE TABLE AVISO (
	ID INT NOT NULL IDENTITY PRIMARY KEY,
	FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO(ID),
	FOREIGN KEY (PESSOA_ID) REFERENCES PESSOA(ID)
)

-- CASO DE TEMPO

-- CREATE TABLE NIVEL (
	-- ID INT NOT NULL IDENTITY PRIMARY KEY,
	-- NOME VARCHAR(250) NOT NULL,
	-- DESCRICAO VARCHAR(250) NOT NULL
-- )

-- CREATE TABLE CARGO (
	-- ID INT NOT NULL IDENTITY PRIMARY KEY,
	-- NOME VARCHAR(250) NOT NULL,
	-- DESCRICAO VARCHAR(250) NOT NULL
-- )

-- CREATE TABLE STATUS (
	-- ID INT NOT NULL IDENTITY PRIMARY KEY,
	-- NOME VARCHAR(250) NOT NULL,
	-- DESCRICAO VARCHAR(250) NOT NULL
-- )

-- DUVIDA

-- CREATE TABLE PAGAMENTO (
	-- ID INT NOT NULL IDENTITY PRIMARY KEY,
	-- NOME VARCHAR(250) NOT NULL,
	-- FOREIGN KEY (PESSOA_ID) REFERENCES PESSOA(ID),
	-- COD_CARTAO INT NOT NULL
-- )

-- CREATE TABLE SUGESTAO (
	-- ID INT NOT NULL IDENTITY PRIMARY KEY,
	-- FOREIGN KEY (PRINCIPAL_ID) REFERENCES PRINCIPAL(ID),
	-- FOREIGN KEY (SUGESTAO_ID) REFERENCES SUGESTAO(ID),
	-- SUPORTE VARCHAR(250) NOT NULL,
	-- CONFIANCA VARCHAR(250) NOT NULL
-- )

-- CREATE TABLE REPOSICAO (
	-- ID INT NOT NULL IDENTITY PRIMARY KEY,
	-- FORNECEDOR VARCHAR NOT NULL
-- )

-- CREATE TABLE PRODUTO_REPOSICAO (
	-- ID INT NOT NULL IDENTITY PRIMARY KEY,
	-- FOREIGN KEY (REPOSICAO_ID) REFERENCES REPOSICAO(ID),
	-- FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO(ID),
	-- QUANTIDADE INT NOT NULL
-- )

